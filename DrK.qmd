---
jupyter: python3
---

```{python}
from riotwatcher import LolWatcher
import pandas as pd
from collections import defaultdict
import scraper
from tkinter import *
from PIL import Image, ImageTk
from io import BytesIO
import requests
```

```{python}
# Example deaths image

# Colors
YELLOW = "#f1ff47"

# Set window
window = Tk()
window.title("League Wrapped Worst Deaths Example")

# Make canvas
scale = 0.75
cwidth = 720*scale
cheight = 1280*scale
canvas = Canvas(width=cwidth, height=cheight, bg="white")
canvas.grid(row=0, column=0)

# Add background
# image_url = "http://ddragon.leagueoflegends.com/cdn/13.6.1/img/champion/Irelia.png"
# r = requests.get(image_url)
# pilImage = Image.open(BytesIO(r.content))
pilImage = Image.open("assets/TEMPLATE_deaths.jpg")
pilImage = pilImage.resize((int(cwidth),int(cheight)))
bgimg = ImageTk.PhotoImage(pilImage)
canvas.create_image(cwidth/2, cheight/2, image=bgimg)


# Create champ images
image_url = "http://ddragon.leagueoflegends.com/cdn/13.6.1/img/champion/Akali.png"
r = requests.get(image_url)
pilImage = Image.open(BytesIO(r.content))
pilImage = pilImage.resize((int(400*scale),int(400*scale)))
img = ImageTk.PhotoImage(pilImage)



# Add champ images
canvas.create_image(160*scale, 360*scale, anchor=NW, image=img)

# Add text
description_text = canvas.create_text(
            cwidth/2,
            700,
            width=cwidth*0.7,
            text="In Season 12, your most deaths in one game was 999 deaths on Akali. You filthy inter.",
            fill=YELLOW,
            font=("Arial", 12),
            justify='center'
        )

window.mainloop()
```

```{python}
# Example Worst KDAs

# Colors
PINK = "#f774c4"
LIGHT_GREEN = "#12d861"
ORANGE = "#ff8b1e"
YELLOW = "#f1ff47"
BLACK = "000000"

# Set window
window = Tk()
window.title("League Wrapped Worst KDAs Example")

# Make canvas
scale = 0.75
cwidth = 720*scale
cheight = 1280*scale
canvas = Canvas(width=cwidth, height=cheight, bg="white")
canvas.grid(row=0, column=0)

# Add background
# image_url = "http://ddragon.leagueoflegends.com/cdn/13.6.1/img/champion/Irelia.png"
# r = requests.get(image_url)
# pilImage = Image.open(BytesIO(r.content))
pilImage = Image.open("assets/TEMPLATE_kda.jpg")
pilImage = pilImage.resize((int(cwidth),int(cheight)))
bgimg = ImageTk.PhotoImage(pilImage)
canvas.create_image(cwidth/2, cheight/2, image=bgimg)


# Add champ images
worst_kda = "Akali"
horrible_kdas = ["Irelia", "Yasuo", "Riven", "Katarina"]

image_url = f"http://ddragon.leagueoflegends.com/cdn/13.6.1/img/champion/{worst_kda}.png"
r = requests.get(image_url)
pilImage = Image.open(BytesIO(r.content))
pilImage = pilImage.resize((int(405*scale),int(408*scale)))
worst_kda_image = ImageTk.PhotoImage(pilImage)

canvas.create_image(57*scale, 392*scale, anchor=NW, image=worst_kda_image)

y = 360
i = 0
hkda_images = {}
# for champ in horrible_kdas:
#     image_url = f"http://ddragon.leagueoflegends.com/cdn/13.6.1/img/champion/{champ}.png"
#     r = requests.get(image_url)
#     pilImage = Image.open(BytesIO(r.content))
#     pilImage = pilImage.resize((int(167*scale),int(167*scale)))
#     horrible_kda_image = ImageTk.PhotoImage(pilImage)
#     canvas.create_image(521*scale, y*scale, anchor=NW, image=horrible_kda_image)
#     y += 187

# image_url = f"http://ddragon.leagueoflegends.com/cdn/13.6.1/img/champion/{horrible_kdas[0]}.png"
# r = requests.get(image_url)
# pilImage = Image.open(BytesIO(r.content))
# pilImage = pilImage.resize((int(167*scale),int(167*scale)))
# # horrible_kda_image = ImageTk.PhotoImage(pilImage)
# canvas.create_image(521*scale, 360*scale, anchor=NW, image=ImageTk.PhotoImage(pilImage))

# image_url = f"http://ddragon.leagueoflegends.com/cdn/13.6.1/img/champion/{horrible_kdas[1]}.png"
# r = requests.get(image_url)
# pilImage = Image.open(BytesIO(r.content))
# pilImage = pilImage.resize((int(167*scale),int(167*scale)))
# horrible_kda_image = ImageTk.PhotoImage(pilImage)
# canvas.create_image(521*scale, 547*scale, anchor=NW, image=horrible_kda_image)

for champ in horrible_kdas:
    image_url = f"http://ddragon.leagueoflegends.com/cdn/13.6.1/img/champion/{champ}.png"
    r = requests.get(image_url)
    pilImage = Image.open(BytesIO(r.content))
    pilImage = Image.open(BytesIO(r.content)).resize((int(167*scale),int(167*scale)))
    horrible_kda_image = ImageTk.PhotoImage(Image.open(BytesIO(r.content)).resize((int(167*scale),int(167*scale))))
    hkda_images[f"{champ}"] = horrible_kda_image
    canvas.create_image(521*scale, y*scale, anchor=NW, image=horrible_kda_image)
    y += 187
    i += 1



# Add text
# description_text = canvas.create_text(
#             cwidth/2,
#             700,
#             width=cwidth*0.7,
#             text="In Season 12, your most deaths in one game was 999 deaths on Akali. You filthy inter.",
#             fill=YELLOW,
#             font=("Arial", 12),
#             justify='center'
#         )

window.mainloop()
```

```{python}
import tkinter as tk  
import tkinter.font as tkf

root = tk.Tk()
print(tkf.families())
```

```{python}
# create a file called key.txt with your api key
with open('key.txt', 'r') as file:
    api_key = file.readline()

watcher = LolWatcher(api_key)
# watcher = LolWatcher("RGAPI-9500dbcf-8a34-496d-956d-94a28bec2851")
my_region = 'na1'

# summoner = watcher.summoner.by_name(my_region, 'Among Us Jimin')
player_name = "Duckymomoepic"
summoner = watcher.summoner.by_name(my_region, player_name)
```

```{python}
# using scraper functions

# create watcher object
watcher = scraper.create_watcher("key.txt")

# get matchelist for player for season 12
matchlist = scraper.get_season_matchlist(watcher=watcher, summoner_name=player_name, region=my_region)
print(len(matchlist))
```

```{python}
# make dataframe from matchlist
df = scraper.get_data_from_matchlist(watcher=watcher, summoner_name=player_name, matchlist=matchlist[0:50], region=my_region)
```

